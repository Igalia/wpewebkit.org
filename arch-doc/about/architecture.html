<!DOCTYPE html>
<html prefix="og: https://ogp.me/ns#">

  <head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="">

  <title>The Architecture of WPE</title>
  <link rel="canonical" href="https://igalia.github.io/wpewebkit.org/arch-doc/about/architecture.html">
  <link rel="alternate" type="application/rss+xml" title="" href="https://igalia.github.io/wpewebkit.org/arch-doc/feed.xml">
  <meta property="og:url" content="https://igalia.github.io/wpewebkit.org/arch-doc/about/architecture.html">
  <meta property="og:title" content="The Architecture of WPE">
  <meta property="og:image" content="https://igalia.github.io/wpewebkit.org/arch-doc/assets/twitter_Profile_WhiteBg_400px.png">
  <meta property="og:image:secure_url" content="https://igalia.github.io/wpewebkit.org/arch-doc/assets/twitter_Profile_WhiteBg_400px.png">
  <meta property="og:image:alt" content="WPE logo">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="400">
  <meta property="og:image:height" content="400">
  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2020-10-15T11:11:40.779Z">
  <meta property="article:tag" content="about">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@WPEWebKit">

  <!-- Bootstrap Core CSS -->
  <link rel="stylesheet" href="/wpewebkit.org/arch-doc/vendor/bootstrap/css/bootstrap.min.css">

  <!-- Custom Fonts -->
  <link rel="stylesheet" href="/wpewebkit.org/arch-doc/vendor/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/wpewebkit.org/arch-doc/vendor/simple-line-icons/css/simple-line-icons.css">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/wpewebkit.org/arch-doc/css/stylish-portfolio.css">

</head>


  <body id="page-top">

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand logo" href="/wpewebkit.org/arch-doc/"><img width="200" src="/wpewebkit.org/arch-doc/assets/svg/blue_Web_Logo.svg" alt=""></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
 
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="/wpewebkit.org/arch-doc/">Home</a>
      </li>
      <!-- li class="nav-item">
        <a class="nav-link" href="#">Blog</a>
      </li -->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Documentation
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="/wpewebkit.org/arch-doc/about/exploring.html">Explore WPE / Embedded</a>
          <a class="dropdown-item" href="/wpewebkit.org/arch-doc/about/supported-hardware.html">Supported Hardware</a>
          <a class="dropdown-item" href="/wpewebkit.org/arch-doc/about/a-good-choice.html">Why Choose WPE</a>
          <a class="dropdown-item" href="/wpewebkit.org/arch-doc/about/architecture.html">WPE Design</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="/wpewebkit.org/arch-doc/about/builds.html">Build it</a>
          <a class="dropdown-item" href="/wpewebkit.org/arch-doc/release/schedule">Release Schedule</a>
        </div>
      </li>
      <li class="nav-item active">
        <a class="nav-link" href="/wpewebkit.org/arch-doc/code">Code</a>
      </li>
      </li>
    </ul>
  </div>
</nav>



    <section class="content-section bg-primary text-white small-section">
  <div class="container text-center">
    <div class="content-section-heading">
      
      <h2>The Architecture of WPE</h2>
	  
    </div>
  </div>
</section>

<section class="content-section bg-light small-section">
  <div class="container text-center">
    <div class="row">
      <div class="col-lg-10 mx-auto lead text-left">

        <p>TODO: Add some cool and fancy architecture diagram</p>
<h3 id="wpe">WPE</h3>
<p>The <a href="https://webkit.org">WebKit</a> project is designed to provide programming
interfaces to Web Browser developers. Depending on the platform and operating
system the Browser application should run on, the developers shall choose the
right WebKit port suiting their needs. For instance, macOS application
developers should rely on the WebKit mac ports. Linux desktop developers should
build their application upon the <a href="https://webkitgtk.org">GTK port</a>.</p>
<p>WPE is the official WebKit port for embedded platforms. WPE is uniquely designed
for embedded systems in that it doesn’t depend on any user-interface toolkit
such as the traditional Cocoa, GTK, etc toolkits.</p>
<h4 id="web-page-rendering">Web page rendering</h4>
<p>WPE is considered as an hybrid port, it defers the final web page delivery for
display to a rendering backend. A traditional port would provide a widget for a
given toolkit, but WPE opted for a different and more flexible approach.</p>
<p>The common interface between WPEWebKit and its rendering backends is provided by
<a href="https://github.com/WebPlatformForEmbedded/libwpe">libwpe</a>. On one side, once
WPEWebKit has a graphical representation of the final composited Web page ready
for rendering, it invokes a callback function on <code>libwpe</code>. On the other side,
the WPE application has to register a view backend on the WPE WebView. This view
backend is provided by the rendering backend. The view backend receives the Web
page representation from <code>libwpe</code>, usually as an EGLImage, and is in charge of
presenting it in the application, on-screen.</p>
<p>The decoupling between generating the WebPage representation on WebKit side and
the actual rendering on the application side provides a very flexible design.
For instance, WPE integrators can easily develop a new rendering backend for
specific embedded platforms that might have a graphics driver with special API
requirements.</p>
<p>WPE provides a rendering backend aiming to target the most common platforms and
leveraging the existing graphics stack available in the
<a href="https://freedesktop.org">Freedesktop</a> umbrella eco-system.
<a href="https://github.com/Igalia/WPEBackend-FDO">WPEBackend-FDO</a> is the reference
implementation of the base rendering backend design. WPEBackend-FDO provides API
for WPE applications that aims to ease the handling of rendering either
on-screen using EGL or off-screen using SHM.</p>
<h4 id="input-events-handling">Input events handling</h4>
<p>In a traditional WebKit port, the provided widget usually also handles input
(keyboard, mouse, touch) events and is in charge of relaying them to the
internal WebKit input-methods components.</p>
<p>As WPE doesn’t provide a widget, it relies on <code>libwpe</code> APIs to relay input
events from the WPE application to the internal WebKit input-methods components.
This design again adds flexibility to the overall WPE architecture, enabling
applications to support new input devices without having to go through a UI
toolkit first.</p>
<p>Taking the example of the <a href="https://github.com/Igalia/cog">Cog WPE browser</a>, the
application relies on Wayland protocols for user input to communicate events
coming from the Wayland compositor up to WPE.</p>


        <p class="text-right"><a class="btn btn-primary" href="/wpewebkit.org/arch-doc/"><i class="icon-home mr-1"></i> Home</a></p>
      </div>
    </div>
  </div>
</section>


    <!-- Footer -->
<footer class="footer">
  <a class="navbar-brand" href="/"><img width="200" src="/wpewebkit.org/arch-doc/assets/svg/blue_Web_Logo.svg"></a>
  <div class="container text-center">
    <p class="text-muted small mb-0">Copyright &copy; 2018-2020 The WPE WebKit Team | Hosting kindly provided by <a href="https://www.igalia.com">Igalia</a>.</p>
  </div>
</footer>

  <script src="/wpewebkit.org/arch-doc/vendor/jquery/jquery.js"></script>
  <script src="/wpewebkit.org/arch-doc/vendor/bootstrap/js/bootstrap.js"></script>

  </body>
</html>
