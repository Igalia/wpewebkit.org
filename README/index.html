<h1>Note: This branch is reworking everything</h1>
<p>Treat everything in this branch of the project as entirely unreal.  It is merely an experiment for discussion.</p>
<h1>wpewebkit.org</h1>
<p>wepwebkit.org is a statically generated site for WPE, the official WebKit Port for Embedded.  The website aims to be simple to maintain and with little complexity and dependencies.  It is built with <a href="https://www.11ty.dev/">11ty</a> and Liquid templates - and that's pretty much it.</p>
<p>The actual site is hosted by <a href="https://igalia.com">Igalia</a> who are the primary maintainers of the project.</p>
<h2>Development</h2>
<p>In order to setup, you just just have to check it out, switch to the checked out directory and then <code>npm install</code>.</p>
<h2>Building wpewebkit.org site locally</h2>
<p>In order to test it all you need to do is</p>
<pre><code>npx eleventy --serve
</code></pre>
<p>This will build the project, start a server, and your terminal will provide you useful links to actually get to it.</p>
<h3>Structure</h3>
<ul>
<li>
<p><code>_site</code> is the output folder, where the generated and served content lives.  It is committed and github pages used to provide a sharable dev URL in case you want to discuss proposed changes easily or test for something without exposing things behind your own firewall.</p>
</li>
<li>
<p><code>_includes</code> contains templates and partials. Currently our templates are based on a variant of <a href="https://startbootstrap.com/template-overviews/stylish-portfolio/">Stylish Portfolio</a> simply because that is what we had to start with.</p>
</li>
<li>
<p><code>_posts</code> contains much of the actual content: release notes, security advisories, posts, etc as <code>.md</code> files with front matter.  These generate individual .html files in <code>_site</code>.</p>
</li>
<li>
<p><code>assets</code> contain images and things, they are copied directly into their relevant directory in <code>_site</code>.</p>
</li>
<li>
<p><code>css</code>  This is where <em>our</em> CSS goes.  Currently, our CSS is overrides and customizations for the <a href="https://startbootstrap.com/template-overviews/stylish-portfolio/">Stylish Portfolio</a> CSS.  <em>There is no preprocessing</em> at the moment.</p>
</li>
<li>
<p><code>release</code> contains the markdown and directory structure for the release schedule page.</p>
</li>
<li>
<p><code>vendor</code> this contains thirdparty stuff that we will use directly in the site - it is copied wholesale into its relevant spot in the output directory (<code>_site</code>).  <em>There is currently too much in there</em> - our page uses stylish portfolio, which uses bootstrap, which uses jQuery and font-awesome and simple-line-icons. These in turn contain things for bundling, pre-processing with several different preprocessors, etc.  We will probably simplify this further, that's a lot of downloads, code and round-trips for such a simple site.</p>
</li>
</ul>
<p>In the root directory you will also find some top level files - <code>index.html</code>which is the template for the main page, <code>release.md</code> which is the template for creating the release pages, a <code>package.json</code> which is, well, what you'd expect and <code>.eleventy.js</code> which does some very understandable work in creating a date filter for outputting dates (because of how some of the old content exists), and creates some 'recent' collections for simple templating of things like release notes and security advisories.</p>
<h2>Updating wpewebkit.org site</h2>
<p>The easiest way to upload the content to the server its executing this two commands:</p>
<pre><code>bundler exec jekyll build
rsync -azi _site/  www-data@wpewebkit.org:/var/www/wpewebkit/_site/
</code></pre>
<h2>Updating content</h2>
<p>In order to write a new release or security advisory piece in the website
you just have to create a new file inside <code>_posts</code> folder using
<a href="http://daringfireball.net/projects/markdown/">Markdown</a> syntax.</p>
<p>Should you need anything else, you will find <a href="https://www.11ty.dev/docs/">11ty's documentation</a> pretty helpful.</p>
